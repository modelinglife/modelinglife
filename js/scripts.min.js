// MINE
document.body.classList.add("jsy"); const platformExpression = /Mac|iPhone|iPod|iPad/i, rejectedExpression = /Chrome|Android|CriOS|FxiOS|EdgiOS/i, expectedExpression = /Safari/i, isAppleSafari = () => { var e = navigator.userAgent; return !rejectedExpression.test(e) && platformExpression.test(e) && expectedExpression.test(e) }; var t, a; isAppleSafari() && (t = document.getElementById("vid"), (a = new Image).onload = function () { var e = this.src; t.setAttribute("poster", e), setInterval(function () { document.getElementById("vid").setAttribute("poster", e) }, 9e3) }, a.src = "./assets/poster.apng"); let hf = document.querySelector(".h .hfull >figure").cloneNode(!0); hf.querySelector("svg use").setAttribute("xlink:href", "#logo-small"); let hn = document.querySelector(".h .hfull >nav").cloneNode(!0); document.querySelector(".h .hsmall").appendChild(hf), document.querySelector(".h .hsmall").appendChild(hn); var fix = document.querySelectorAll(".m >section >div"); fix.forEach(e => { var t = e.clientHeight / 2; e.style.top = "calc( 50% - " + t + "px )" }); var paths = document.querySelectorAll("#elements .arrow-path path:nth-child(2)"); const arr_ani = []; paths.forEach(function (e, t) { var a = e.previousElementSibling, e = anime.path(e), e = anime({ autoplay: !1, targets: a, translateX: e("x"), translateY: e("y"), rotate: e("angle"), easing: "linear", loop: !0, duration: anime.random(1e4, 6e3) }); arr_ani.push(e) }), arr_ani.forEach(e => { e.seek(.2 * e.duration) }); paths = document.querySelectorAll("#menhome .men >path"); const arr_ani_men = []; paths.forEach(function (e, t) { var a = e.parentElement, e = anime.path(e), e = anime({ autoplay: !1, targets: a, translateX: e("x"), translateY: e("y"), easing: "linear", loop: !0, direction: "alternate", duration: anime.random(15e3, 8e3) }); arr_ani_men.push(e) }), arr_ani_men.forEach(e => { e.seek(.2 * e.duration) }); var tlc = anime.timeline({ autoplay: !1, easing: "linear" }); tlc.add({ targets: ".h .hfull", translateY: "-102%", duration: 4e3 }).add({ targets: "#bg-clr", translateY: "-100%", duration: 4e3 }, "-=4000").add({ targets: ".sct-0 > div", opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "-=2000").add({ targets: ".sct-0 > div, #vid", translateY: "-100vh", duration: 4e3 }, "+=2666").add({ targets: "#arrow-ctrl", translateY: ["90%", "120%"], duration: 100 }).add({ targets: ".sct-1-1", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "-=4200").add({ targets: "#tria", translateY: [{ value: ["100vh", "0vh"], duration: 2e3 }], scale: [{ value: [.7, 1], duration: 600, delay: 2e3 }] }, "-=3000").add({ targets: ".sct-1-2", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "+=2000").add({ targets: ".sct-1-1", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=2000").add({ targets: "#tria .lines", strokeDashoffset: [anime.setDashoffset, 0], easing: "easeInOutSine" }, "-=666").add({ targets: "#tria text", opacity: [0, 1] }, "-=2000").add({ targets: ".sct-1-3", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "+=2666").add({ targets: ".sct-1-2", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=2400").add({ targets: "#tria .uppery path", strokeDashoffset: [anime.setDashoffset, 0], delay: function (e, t) { return 200 * t } }, "-=1000").add({ targets: "#arrow-ctrl", translateY: ["120%", "90%"], duration: 100 }, "+=2666").add({ targets: ".sct-1-3, #tria", translateY: "-100vh", duration: 4e3 }, "-=100").add({ targets: "#vid, .sct-2-1", translateY: ["100vh", "0vh"], duration: 4e3 }, "-=4000").add({ targets: "#vid", opacity: 0 }, "+=2666").add({ targets: "#arrow-ctrl", translateY: "120%", duration: 100 }).add({ targets: ".sct-2-2", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "-=2000").add({ targets: ".sct-2-1", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=2000").add({ targets: "#elements .lens", opacity: [{ value: [0, 1], duration: 600 }], scale: [{ value: [.7, 1], duration: 1400, delay: 200 }] }).add({ targets: "#arrowpath-ctrl", translateY: ["120%", "90%"], duration: 100 }).add({ targets: "#elements .arrow-path", opacity: [0, 1], duration: 600 }).add({ targets: "#elements .circle, #elements .square, #elements .polygon", opacity: [{ value: [0, 1], duration: 400 }], scale: [{ value: [.4, 1], duration: 800, delay: 200, easing: "easeOutCubic" }], delay: anime.stagger(400) }).add({ targets: ".sct-2-3", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "+=2666").add({ targets: ".sct-2-2", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=2000").add({ targets: "#elements .reddy path:nth-child(1)", fill: "#ee0b0b" }).add({ targets: "#arrowpath-ctrl", translateY: "120%", duration: 100 }, "+=2666").add({ targets: "#elements", translateY: "-100vh", duration: 4e3 }).add({ targets: "#menhome", translateY: ["100vh", "0vh"], duration: 4e3 }, "-=4000").add({ targets: ".sct-3-1", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "-=4000").add({ targets: ".sct-2-3", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=4000").add({ targets: "#men-ctrl", translateY: ["120%", "90%"], duration: 100 }).add({ targets: ".sct-3-2", zIndex: [0, 1], opacity: [{ value: [0, 1], duration: 800 }], translateY: [{ value: ["102%", "0%"], duration: 1800, delay: 200 }] }, "+=2666").add({ targets: ".sct-3-1", zIndex: 0, translateY: [{ value: "-102%", duration: 1800 }], opacity: [{ value: 0, duration: 800, delay: 1400 }] }, "-=2000").add({ targets: "#menhome .reddy", fill: "#ee0b0b" }).add({ targets: "#men-ctrl", translateY: "120%", duration: 100 }, "+=2666").add({ targets: ".sct-3-2, #menhome", translateY: "-50vh", duration: 4e3 }).add({ targets: "body >footer", translateY: ["100%", "0%"], duration: 4e3 }, "-=4000"); const scrollPercent = () => { var e = document.body.scrollTop; return (document.documentElement.scrollTop + e) / (document.documentElement.scrollHeight - document.documentElement.clientHeight) * 100 }; if (window.onscroll = () => { tlc.seek(scrollPercent() / 100 * tlc.duration) }, "IntersectionObserver" in window) { let e = {}, t = document.querySelectorAll(".ctrl"); function r(e) { e.map(e => { e.isIntersecting ? ("arrow-ctrl" == e.target.id && ppvideo(1, "vid"), "men-ctrl" == e.target.id && ppvideo(1, "men"), "arrowpath-ctrl" == e.target.id && ppvideo(1, "aniarrowpath")) : ("arrow-ctrl" == e.target.id && ppvideo(0, "vid"), "men-ctrl" == e.target.id && ppvideo(0, "men"), "arrowpath-ctrl" == e.target.id && ppvideo(0, "aniarrowpath")) }) } let a = new IntersectionObserver(r, e); t.forEach(e => { a.observe(e) }); let n = {}; var l = document.querySelectorAll(".h .hfull"); function s(e) { e.map(e => { e.isIntersecting ? document.querySelector(".h").classList.remove("shorty") : document.querySelector(".h").classList.add("shorty") }) } var o = new IntersectionObserver(s, n); l.forEach(e => { o.observe(e) }) } else alert("Use a newer browser in order to have a right experience on our website."); function ppvideo(t = 1, e = "vid") { let a = document.getElementById(e); a && "vid" == e ? a.playbackRate = t : "aniarrowpath" != e ? "men" == e && arr_ani_men.forEach(e => { 1 == t && e.play(), 0 == t && e.pause() }) : arr_ani.forEach(e => { 1 == t && e.play(), 0 == t && e.pause() }) }